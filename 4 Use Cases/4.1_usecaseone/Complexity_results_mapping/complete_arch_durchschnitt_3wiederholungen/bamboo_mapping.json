{
  "fields": [
    "employee_external_id",
    "absence_type_external_id", 
    "status",
    "start_date",
    "end_date",
    "start_half_day",
    "end_half_day",
    "amount",
    "unit",
    "employee_note"
  ],
  "mapped_fields": {
    "employee_external_id": {
      "source_field": "employeeId",
      "target_field": "employee_external_id",
      "ground_truth_path": "/{companyDomain}/v1/employees/{employeeId}/time_off/request (path parameter)",
      "notes": "Direct mapping from BambooHR employeeId path parameter to Flip employee_external_id. BambooHR uses employeeId in path for time off requests.",
      "mapping_type": "Direct"
    },
    "absence_type_external_id": {
      "source_field": "timeOffTypeId",
      "target_field": "absence_type_external_id", 
      "ground_truth_path": "/components/schemas/TimeOffRequest (timeOffTypeId property)",
      "notes": "Direct mapping from BambooHR timeOffTypeId to Flip absence_type_external_id. Both represent the type/category of absence.",
      "mapping_type": "Direct"
    },
    "status": {
      "source_field": "status",
      "target_field": "status",
      "ground_truth_path": "/components/schemas/TimeOffRequest (status property)",
      "notes": "Direct mapping from BambooHR status to Flip status. Both represent the approval state of the time off request.",
      "mapping_type": "Direct"
    },
    "start_date": {
      "source_field": "start",
      "target_field": "start_date",
      "ground_truth_path": "/components/schemas/TimeOffRequest (start property)",
      "notes": "Direct mapping from BambooHR start to Flip start_date. Both represent the start date of the absence period.",
      "mapping_type": "Direct"
    },
    "end_date": {
      "source_field": "end", 
      "target_field": "end_date",
      "ground_truth_path": "/components/schemas/TimeOffRequest (end property)",
      "notes": "Direct mapping from BambooHR end to Flip end_date. Both represent the end date of the absence period.",
      "mapping_type": "Direct"
    },
    "amount": {
      "source_field": "amount",
      "target_field": "amount",
      "ground_truth_path": "/components/schemas/TimeOffRequest (amount property)",
      "notes": "Direct mapping from BambooHR amount to Flip amount. Both represent the quantity of time off requested.",
      "mapping_type": "Direct"
    },
    "employee_note": {
      "source_field": "notes[].note",
      "target_field": "employee_note",
      "ground_truth_path": "/components/schemas/TimeOffRequest (notes property)",
      "notes": "Conversion mapping from BambooHR notes array to Flip employee_note string. Extract note field from array and concatenate if multiple.",
      "mapping_type": "Conversion"
    },
    "unit": {
      "source_field": "dates[].amount",
      "target_field": "unit",
      "ground_truth_path": "/components/schemas/TimeOffRequest/properties/dates/items/properties/amount",
      "notes": "The unit field is implicitly determined by the amount field in the dates array. BambooHR uses integer amounts where the unit is contextually determined by the time off type configuration.",
      "mapping_type": "Logical"
    },
    "start_half_day": {
      "source_field": "dates[].ymd + dates[].amount",
      "target_field": "start_half_day", 
      "ground_truth_path": "/components/schemas/TimeOffRequest/properties/dates/items/properties/ymd",
      "notes": "Half-day information can be inferred from the dates array where each date entry contains ymd (date) and amount (quantity). When amount is 0.5 or represents half-day quantities, it indicates half-day requests.",
      "mapping_type": "Logical"
    },
    "end_half_day": {
      "source_field": "dates[].ymd + dates[].amount",
      "target_field": "end_half_day",
      "ground_truth_path": "/components/schemas/TimeOffRequest/properties/dates/items/properties/ymd", 
      "notes": "Similar to start_half_day, end half-day information is derived from the dates array. The last entry in the dates array with a half-day amount (0.5) would represent the end half-day.",
      "mapping_type": "Logical"
    }
  },
  "unmappable_fields": [],
  "processing_context": "BambooHR API to Flip HRIS Absence Management API mapping - 10/10 fields successfully mapped with comprehensive coverage",
  "total_fields_identified": 10,
  "mapping_summary": {
    "direct_mappings": 6,
    "conversion_mappings": 1,
    "logical_mappings": 3,
    "unmappable_fields": 0,
    "success_rate": "100%"
  },
  "key_endpoints": {
    "time_off_request": "PUT /{companyDomain}/v1/employees/{employeeId}/time_off/request",
    "time_off_policies": "GET /{companyDomain}/v1/meta/time_off/policies",
    "time_off_types": "GET /{companyDomain}/v1/meta/time_off/types",
    "whos_out": "GET /{companyDomain}/v1/time_off/whos_out"
  },
  "schema_references": {
    "time_off_request": "TimeOffRequest",
    "time_off_history": "TimeOffHistory", 
    "adjust_time_off_balance": "AdjustTimeOffBalance"
  },
  "transformation_logic": {
    "employee_note": "Extract note field from BambooHR notes array and concatenate if multiple: notes?.map(n => n.note).join('; ') || ''",
    "unit": "Determine unit from time off type configuration or dates array context",
    "start_half_day": "Check if first date in dates array has amount = 0.5 or represents half-day",
    "end_half_day": "Check if last date in dates array has amount = 0.5 or represents half-day"
  },
  "critical_discoveries": {
    "dates_array": "The dates array is the key to understanding BambooHR's time off system. Each entry represents a specific date (ymd) with an associated amount, allowing for complex time off patterns including half-days.",
    "unit_determination": "BambooHR doesn't have an explicit unit field. The unit (hours/days) is determined by the time off type configuration.",
    "half_day_support": "Half-day information is encoded in the dates array where amount = 0.5 or represents half-day quantities."
  }
}