{
  "mapping_metadata": {
    "source_system": "Personio",
    "target_system": "Flip HRIS Shift Planning",
    "mapping_version": "1.0",
    "created_date": "2024-12-19",
    "analysis_method": "Enhanced RAG Analysis",
    "confidence_score": 0.89,
    "field_coverage": "17/17 fields mapped"
  },
  "fields": {
    "shift_id": {
      "source_field": "id",
      "source_type": "integer",
      "target_field": "shift_id",
      "target_type": "string",
      "mapping_type": "transform",
      "confidence": 0.95,
      "notes": "Convert integer ID to string format"
    },
    "employee_id": {
      "source_field": "employee_id",
      "source_type": "integer",
      "target_field": "employee_id",
      "target_type": "string",
      "mapping_type": "transform",
      "confidence": 0.95,
      "notes": "Convert integer employee ID to string format"
    },
    "shift_name": {
      "source_field": "label",
      "source_type": "string",
      "target_field": "shift_name",
      "target_type": "string",
      "mapping_type": "direct",
      "confidence": 0.90,
      "notes": "Shift label as human-readable name"
    },
    "start_time": {
      "source_field": "start_time",
      "source_type": "string",
      "target_field": "start_time",
      "target_type": "datetime",
      "mapping_type": "transform",
      "confidence": 0.88,
      "notes": "Convert HH:MM format to ISO8601 datetime"
    },
    "end_time": {
      "source_field": "end_time",
      "source_type": "string", 
      "target_field": "end_time",
      "target_type": "datetime",
      "mapping_type": "transform",
      "confidence": 0.88,
      "notes": "Convert HH:MM format to ISO8601 datetime"
    },
    "break_duration": {
      "source_field": "break_duration",
      "source_type": "integer",
      "target_field": "break_duration_minutes",
      "target_type": "integer",
      "mapping_type": "direct",
      "confidence": 0.90,
      "notes": "Break duration in minutes"
    },
    "location": {
      "source_field": "office_id",
      "source_type": "integer",
      "target_field": "work_location",
      "target_type": "string",
      "mapping_type": "lookup",
      "confidence": 0.80,
      "notes": "Lookup office name from office_id"
    },
    "department": {
      "source_field": "department_id",
      "source_type": "integer",
      "target_field": "department",
      "target_type": "string",
      "mapping_type": "lookup",
      "confidence": 0.85,
      "notes": "Lookup department name from department_id"
    },
    "shift_type": {
      "source_field": "type",
      "source_type": "string",
      "target_field": "shift_type",
      "target_type": "enum",
      "mapping_type": "transform",
      "confidence": 0.85,
      "notes": "Map to standardized shift types"
    },
    "status": {
      "source_field": "status",
      "source_type": "string",
      "target_field": "status",
      "target_type": "enum",
      "mapping_type": "transform",
      "confidence": 0.88,
      "notes": "Map to standardized status values"
    },
    "is_paid": {
      "source_field": "is_paid",
      "source_type": "boolean",
      "target_field": "is_paid",
      "target_type": "boolean",
      "mapping_type": "direct",
      "confidence": 0.95,
      "notes": "Direct boolean mapping for paid status"
    },
    "hourly_rate": {
      "source_field": "hourly_rate",
      "source_type": "number",
      "target_field": "hourly_rate",
      "target_type": "decimal",
      "mapping_type": "direct",
      "confidence": 0.90,
      "notes": "Hourly compensation rate for shift"
    },
    "overtime_eligible": {
      "source_field": "overtime_eligible",
      "source_type": "boolean",
      "target_field": "overtime_eligible",
      "target_type": "boolean",
      "mapping_type": "direct",
      "confidence": 0.88,
      "notes": "Overtime eligibility flag"
    },
    "notes": {
      "source_field": "comment",
      "source_type": "string",
      "target_field": "notes",
      "target_type": "string",
      "mapping_type": "direct",
      "confidence": 0.85,
      "notes": "Additional shift notes or comments"
    },
    "created_at": {
      "source_field": "created_at",
      "source_type": "datetime",
      "target_field": "created_at",
      "target_type": "datetime",
      "mapping_type": "direct",
      "confidence": 0.95,
      "notes": "Shift creation timestamp"
    },
    "updated_at": {
      "source_field": "updated_at",
      "source_type": "datetime",
      "target_field": "updated_at",
      "target_type": "datetime",
      "mapping_type": "direct",
      "confidence": 0.95,
      "notes": "Last modification timestamp"
    },
    "manager_id": {
      "source_field": "supervisor_id",
      "source_type": "integer",
      "target_field": "manager_id",
      "target_type": "string",
      "mapping_type": "transform",
      "confidence": 0.90,
      "notes": "Convert supervisor ID to string format"
    },
    "team_id": {
      "source_field": "team_id",
      "source_type": "integer",
      "target_field": "team_id",
      "target_type": "string",
      "mapping_type": "transform",
      "confidence": 0.85,
      "notes": "Convert team ID to string format"
    }
  },
  "mapped_fields": {
    "personio": {
      "shift_id": "id",
      "employee_id": "employee_id",
      "shift_name": "label",
      "start_time": "start_time",
      "end_time": "end_time",
      "break_duration": "break_duration",
      "location": "office_id",
      "department": "department_id",
      "shift_type": "type",
      "status": "status",
      "is_paid": "is_paid",
      "hourly_rate": "hourly_rate",
      "overtime_eligible": "overtime_eligible",
      "notes": "comment",
      "created_at": "created_at",
      "updated_at": "updated_at",
      "manager_id": "supervisor_id",
      "team_id": "team_id"
    }
  },
  "transformation_rules": {
    "datetime_format": "Convert HH:MM time format to ISO8601 datetime with date context",
    "id_conversion": "Convert all integer IDs to string format",
    "lookup_tables": {
      "office_id": "Use office endpoint to get office name",
      "department_id": "Use department endpoint to get department name"
    },
    "enum_mappings": {
      "shift_type": {
        "morning": "MORNING",
        "afternoon": "AFTERNOON",
        "evening": "EVENING", 
        "night": "NIGHT",
        "overnight": "OVERNIGHT"
      },
      "status": {
        "scheduled": "SCHEDULED",
        "confirmed": "CONFIRMED",
        "in_progress": "IN_PROGRESS",
        "completed": "COMPLETED",
        "cancelled": "CANCELLED"
      }
    },
    "validation_rules": {
      "required_fields": ["shift_id", "employee_id", "start_time", "end_time"],
      "time_validation": "end_time must be after start_time",
      "break_validation": "break_duration must be non-negative"
    }
  },
  "api_endpoints": {
    "source": {
      "base_url": "https://api.personio.de/v1",
      "shifts_endpoint": "/company/attendances",
      "offices_endpoint": "/company/offices",
      "departments_endpoint": "/company/departments",
      "authentication": "Bearer token"
    },
    "target": {
      "base_url": "https://api.flip.com/v1",
      "shifts_endpoint": "/shift-planning/shifts",
      "authentication": "Bearer token"
    }
  }
}

